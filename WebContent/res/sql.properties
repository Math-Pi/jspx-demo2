data_source=java:/jspx-demo-DS

id_key=id
name_key=e_name

get_emirate=SELECT id, e_name FROM jspx.EMIRATE ORDER BY ID
get_martial=SELECT id, e_name FROM jspx.martial_status ORDER BY ID
get_grade=SELECT id, e_name FROM jspx.grade ORDER BY ID
get_ref=SELECT id, e_name FROM JSPX.REFRENCE ORDER BY ID
get_group=SELECT id, e_name FROM JSPX.GROUPS ORDER BY ID

#--------------------Customer
searchCustomers= select (g.e_name) as g_name, (m.name) as m_name, gen.name as c_gender, BDB.e_NAME BDB_NAME, c.* from jspx.customer c, jspx.grade g, jspx.martial_status m, jspx.gender gen, JSPX.BOOLEAN_DB BDB  where c.grade =g.id and c.martial_status = m.id and c.gender=gen.id AND BDB.ID=C.DELETED and C.ID=custId and  PASSPORT_NUM like '%pass%' and  c.NAME like '%custName%' and PHONE like '%custPhone%' and  GENDER=custGender and  (CREATION_DATE) >= STR_TO_DATE('from_date 00:00:00','%e/%m/%Y %H:%i:%s') and (CREATION_DATE) <= STR_TO_DATE('to_date 23:59:59','%e/%m/%Y %H:%i:%s') and  JOB like '%custJob%'   and  GRADE=custGrade and  MARTIAL_STATUS=custMart and DELETED=custDel and (BIRTH_DATE) >= STR_TO_DATE('from_Bdate','%e/%m/%Y') and (BIRTH_DATE) <= STR_TO_DATE('to_Bdate','%e/%m/%Y') 
searchCustomerBills=SELECT U.USER_NAME AS U_NAME, U.ID AS U_ID ,R._eNAME AS R_NAME, BDB.e_NAME BDB_NAME ,B.* FROM JSPX.BILL B , JSPX.refrence R, JSPX.USERS U, JSPX.BOOLEAN_DB BDB WHERE B.REF_ID= R.ID AND U.ID=B.USER_ID AND BDB.ID=B.DELETED and B.CUSTOMER_ID= custId AND B.DELETED=0 ORDER BY B.ISSUE_DATE
searchBills=SELECT c.name as c_name, U.USER_NAME AS U_NAME, U.ID AS U_ID ,R.NAME AS R_NAME, BDB.NAME BDB_NAME ,B.* FROM DCS.BILL B , DCS.refrence R, DCS.USERS U, DCS.BOOLEAN_DB BDB, DCS.CUSTOMER c WHERE B.REF_ID= R.ID AND U.ID=B.USER_ID AND BDB.ID=B.DELETED and B.CUSTOMER_ID=c.ID and B.serial_num like '%bID%' and B.CUSTOMER_ID= custId AND B.DELETED=billDel and c.NAME like '%custName%' and (B.ISSUE_DATE) >= STR_TO_DATE('issueDateFrom','%e/%m/%Y') and (B.ISSUE_DATE) <= STR_TO_DATE('issueDateTo','%e/%m/%Y') AND AMOUNT_DEPIT>=billAmountFrom AND AMOUNT_DEPIT<=billAmountTo AND R.ID= refId ORDER BY B.ISSUE_DATE
cutomerAccountSheet=SELECT R.e_NAME AS R_NAME,B.* FROM JSPX.BILL B , JSPX.refrence R WHERE B.REF_ID= R.ID AND B.CUSTOMER_ID= custId AND B.DELETED=0 and  (B.ISSUE_DATE) >= STR_TO_DATE('issueDateFrom','%e/%m/%Y') and (B.ISSUE_DATE) <= STR_TO_DATE('issueDateTo','%e/%m/%Y') AND R.ID= refId ORDER BY B.ISSUE_DATE
searchUsers=SELECT BDB.e_NAME AS BDB_NAME, U.*,G.E_NAME AS G_NAME FROM JSPX.BOOLEAN_DB BDB, JSPX.USERS U, JSPX.USER_GROUPS UG, GROUPS G WHERE U.DELETED=BDB.ID AND U.USER_NAME LIKE '%userName%' AND U.DELETED=userDel AND UG.USER_ID=U.ID AND G.ID=groupId AND G.ID = UG.GROUP_ID 

customerReport=select concat(format(100* cust.amount/all_cust.AMOUNT_DEPIT,2),'%') as ratio,cust.amount as AMOUNT_DEPIT, r.e_name as r_name,c.* from (select sum(amount_depit) as AMOUNT_DEPIT , ref_id from jspx.bill b where deleted=0 and (B.ISSUE_DATE) >= STR_TO_DATE('issueDateFrom','%e/%m/%Y') and  (B.ISSUE_DATE) <= STR_TO_DATE('issueDateTo','%e/%m/%Y') group by ref_id) all_cust, (select sum(amount_depit) as amount,customer_id as bill_c_id,ref_id as bill_ref from  jspx.bill b where deleted=0 and (B.ISSUE_DATE) >= STR_TO_DATE('issueDateFrom','%e/%m/%Y') and (B.ISSUE_DATE) <= STR_TO_DATE('issueDateTo','%e/%m/%Y') group by customer_id,ref_id)cust , jspx.customer c ,jspx.refrence r where c.id=cust.bill_c_id and cust.bill_ref=all_cust.ref_id and r.id=cust.bill_ref  and c.ID=custId and  PASSPORT_NUM like '%pass%' and  c.NAME like '%custName%' and PHONE like '%custPhone%' and  GENDER=custGender and  (CREATION_DATE) >= STR_TO_DATE('from_date 00:00:00','%e/%m/%Y %H:%i:%s') and (CREATION_DATE) <= STR_TO_DATE('to_date 23:59:59','%e/%m/%Y %H:%i:%s') and  JOB like '%custJob%'   and  GRADE=custGrade and  MARTIAL_STATUS=custMart and DELETED=custDel and (BIRTH_DATE) >= STR_TO_DATE('from_Bdate','%e/%m/%Y') and (BIRTH_DATE) <= STR_TO_DATE('to_Bdate','%e/%m/%Y') and R.ID= refId 
customerReportAllRef=select 'All Sections' as r_name, concat(format(100* cust.amount/all_cust.AMOUNT_DEPIT,2),'%') as ratio ,cust.amount as AMOUNT_DEPIT,c.* from (select sum(amount_depit) as AMOUNT_DEPIT  from jspx.bill b where deleted=0  and (B.ISSUE_DATE) >= STR_TO_DATE('issueDateFrom','%e/%m/%Y') and  (B.ISSUE_DATE) <= STR_TO_DATE('issueDateTo','%e/%m/%Y') ) all_cust, (select sum(amount_depit) as amount,customer_id as bill_c_id from  jspx.bill b where deleted=0 and (B.ISSUE_DATE) >= STR_TO_DATE('issueDateFrom','%e/%m/%Y') and (B.ISSUE_DATE) <= STR_TO_DATE('issueDateTo','%e/%m/%Y') group by customer_id)cust , jspx.customer c  where c.id=cust.bill_c_id  and c.ID=custId and  PASSPORT_NUM like '%pass%' and  c.NAME like '%custName%' and PHONE like '%custPhone%' and  GENDER=custGender and  (CREATION_DATE) >= STR_TO_DATE('from_date 00:00:00','%e/%m/%Y %H:%i:%s') and (CREATION_DATE) <= STR_TO_DATE('to_date 23:59:59','%e/%m/%Y %H:%i:%s') and  JOB like '%custJob%'   and  GRADE=custGrade and  MARTIAL_STATUS=custMart and DELETED=custDel and (BIRTH_DATE) >= STR_TO_DATE('from_Bdate','%e/%m/%Y') and (BIRTH_DATE) <= STR_TO_DATE('to_Bdate','%e/%m/%Y')

#-------------------------